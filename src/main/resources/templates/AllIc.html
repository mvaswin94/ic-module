<html xmlns:th="https://www.thymeleaf.org" style="overflow-x: hidden;">
<div th:replace="fragment/Head.html::Head"></div>

<body class="theme-red ls-closed">

	<div class="overlay"></div>

	<div th:replace="fragment/Header.html::Header"></div>

	<section>

		<div th:replace="fragment/Sidenav.html::SideNav"></div>

		<section class="content">

			<div th:replace="fragment/SearchPrepareIc.html::PrepareIcSearch"></div>


			<div class="row clearfix">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
					<div class="card" style="bottom: 2pc;">
						<div class="header">
							<h2>
								<b>All IC</b>
							</h2>
						</div>
						<!-- <form th:action="@{/ic/prepare}" th:object="${clientObj}" method="POST"> -->
						<div class="body">

							<div class="table-responsive">
								<table id="example"
									class="table table-bordered table-striped table-hover dataTable js-exportable"
									style="font-size: smaller; width: auto">
									<thead>
										<tr role="row">
							<!-- 				<th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1" aria-sort="ascending"
												aria-label="Name: activate to sort column descending">TEST
												ID</th>
											<th class="sorting_asc" tabindex="1" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1" aria-sort="ascending"
												aria-label="Name: activate to sort column descending">TEST
												NAME</th>
											<th class="sorting_asc" tabindex="2" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1" aria-sort="ascending"
												aria-label="Name: activate to sort column descending">BILL
												NO</th>
											<th class="sorting" tabindex="3" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">VISIT
												DATE</th>
											<th class="sorting" tabindex="4" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">CLIENT
												ID</th>
											<th class="sorting" tabindex="5" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">CLIENT
												NAME</th>
											<th class="sorting" tabindex="6" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">CLIENT
												TYPE</th>
											<th class="sorting" tabindex="7" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Salary: activate to sort column ascending">AGENCY
											</th>
											<th class="sorting" tabindex="9" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">PRO
												NAME</th>
											<th class="sorting" tabindex="10" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">TENENT
												ID</th>
											<th class="sorting" tabindex="11" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">TENENT
												NAME</th>
											<th class="sorting" tabindex="14" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Age: activate to sort column ascending">DISCOUNT
												AMOUNT</th>
											<th class="sorting" tabindex="12" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">BILL
												AMOUNT</th>
											<th class="sorting" tabindex="13" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Office: activate to sort column ascending">NET
												AMOUNT</th>
											<th class="sorting" tabindex="16" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Start date: activate to sort column ascending">IC
												AMOUNT</th>
											<th class="sorting" tabindex="16" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Start date: activate to sort column ascending">STATUS
											</th> -->
											<!--  <th class="" >
														<input type="checkbox"id="selectall"></th>	 -->
														
														
													<th class="sorting_asc" tabindex="0"
														aria-controls="DataTables_Table_1" rowspan="1" colspan="1"
														aria-sort="ascending"
														aria-label="Name: activate to sort column descending">IC
														ID</th>		
														
														<th class="sorting" tabindex="4" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">CLIENT
												ID</th>
												
												<th class="sorting" tabindex="5" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">CLIENT
												NAME</th>

												<th class="sorting_asc" tabindex="2" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1" aria-sort="ascending"
												aria-label="Name: activate to sort column descending">BILL
												NO</th>
												
												<th class="sorting" tabindex="3" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">VISIT
												DATE</th>
												
												<th class="sorting_asc" tabindex="1" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1" aria-sort="ascending"
												aria-label="Name: activate to sort column descending">TEST
												NAME</th>
												
													<th class="sorting" tabindex="12" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Position: activate to sort column ascending">BILL
												AMOUNT</th>
												
												<th class="sorting" tabindex="14" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Age: activate to sort column ascending">DISCOUNT
												AMOUNT</th>
												
												<th class="sorting" tabindex="13" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Office: activate to sort column ascending">NET
												AMOUNT</th>
												
												<th class="sorting" tabindex="7" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Salary: activate to sort column ascending">MIN.
												AMOUNT</th>
													
												<th class="sorting" tabindex="16" aria-controls="DataTables_Table_1"
												rowspan="1" colspan="1"
												aria-label="Start date: activate to sort column ascending">IC
												AMOUNT</th>
												
												<th class="" >
														<input type="checkbox"id="selectall" onclick="app.ui.toggleCheckbox(this)"></th>
										</tr>
									</thead>
									<tbody>

										<tr role="row" th:each="obj : ${all}">
										
										
										<td class="sorting_1" th:text="${obj.icId}" id="icId"></td>
										<td class="sorting_1" th:text="${obj.clientId}" id="clientId"></td>
											<td class="sorting_1" th:text="${obj.clientName}"id="clientName"></td>
										<td class="sorting_1" th:text="${obj.billNo}" id="billNo"></td>
										<td class="sorting_1" th:text="${#dates.format(obj.visitDate, 'dd-MM-yyyy')}"id="visitDate"></td>	
										<td class="sorting_1" th:text="${obj.investigationName}"id="investigationName"></td>
										<td class="sorting_1" th:text="${obj.billAmount}"id="billAmount"></td>
										<td class="sorting_1" th:text="${obj.discountAmount}"id="discountAmount"></td>
										<td class="sorting_1" th:text="${obj.netAmount}"id="netAmount"></td>
										<td class="sorting_1" th:text="${obj.minCost}" id="minCost"></td>
										
										<td class="sorting_1">
													<input th:type="text" th:value="${obj.calculatedAmount}" id="calculatedAmount" style="width: 50px;">
													</td>
													<td class="sorting_1">
													

 															<input 
 															type="checkbox" th:name="'orderApproval['+${objStat.index}+'].checkBox'" value="Y"> 
															<input th:name="'orderApproval['+${objStat.index}+'].ibid'"
															type="text" hidden th:value="${obj.ibid}"/> 
															<input th:name="'orderApproval['+${objStat.index}+'].billNo'"
															type="text" hidden th:value="${obj.billNo}"/> 
															<input th:name="'orderApproval['+${objStat.index}+'].investigationId'"
															type="text" hidden th:value="${obj.investigationId}"/> 
															<input th:name="'orderApproval['+${objStat.index}+'].calculatedAmount'"
															type="text" hidden th:value="${obj.calculatedAmount}"/> 
													</td>
										
										
											
								<!-- 			<td class="sorting_1" th:text="${obj.investigationId}" id="investigationId">
											</td>
											<td class="sorting_1" th:text="${obj.investigationName}"
												id="investigationName"></td>
											<td class="sorting_1" th:text="${obj.billNo}" id="billNo"></td>
											<td class="sorting_1" th:text="${#dates.format(obj.visitDate, 'dd-MM-yyyy')}"
												id="visitDate"></td>
											<td class="sorting_1" th:text="${obj.clientId}" id="clientId"></td>
											<td class="sorting_1" th:text="${obj.clientName}"
												id="clientName"></td>
											<td class="sorting_1" th:text="${obj.clientType}"
												id="clientType"></td>
											<td class="sorting_1" th:text="${obj.agency}" id="agency"></td>
											<td class="sorting_1" th:text="${obj.proName}" id="proName"></td>
											<td class="sorting_1" th:text="${obj.tenentId}" id="tenentId"></td>
											<td class="sorting_1" th:text="${obj.tenentName}"
												id="tenentName"></td>
											<td class="sorting_1" th:text="${obj.discountAmount}"
												id="discountAmount"></td>
											<td class="sorting_1" th:text="${obj.billAmount}"
												id="billAmount"></td>
											<td class="sorting_1" th:text="${obj.netAmount}"
												id="netAmount"></td>

											<td class="sorting_1"><span
												th:if="${obj.icStatus ==0 || obj.icStatus == null}"
												th:text=${obj.calculatedAmount}>Open</span> <span
												th:if="${obj.icStatus}==1" th:text=${obj.preparedAmount}>Prepared</span>
												<span th:if="${obj.icStatus}==2"
												th:text=${obj.calculatedAmount}>Not Prepared</span> <span
												th:if="${obj.icStatus}==3" th:text=${obj.allocatedAmount}>Allocated</span>
												<span th:if="${obj.icStatus}==4"
												th:text=${obj.preparedAmount}>Not Allocated</span> <span
												th:if="${obj.icStatus ==5 || obj.icStatus > 6 }"
												th:text=${obj.approvedAmount}>Approved</span> <span
												th:if="${obj.icStatus}==6" th:text=${obj.allocatedAmount}>Not
													Approved</span> <span th:if="${obj.icStatus}==7">Dispatched</span> <span
														th:if="${obj.icStatus}==8">Returned</span> <span
														th:if="${obj.icStatus}==9">Completed</span></td></td>
												<td class="sorting_1">
												<span class="label label-default"	th:if="${obj.icStatus ==0 || obj.icStatus == null && obj.calculatedAmount > 0} ">Open</span>
												<span class="label bg-red"	th:if="${obj.icStatus ==0 || obj.icStatus == null && obj.calculatedAmount < 0} ">Not Eligible</span> 
												<span class="label bg-amber" th:if="${obj.icStatus}==1">Prepared</span> 
												<span th:if="${obj.icStatus}==2">Not Prepared</span>
												<span class="label bg-lime" th:if="${obj.icStatus}==3">Allocated</span>
												<span th:if="${obj.icStatus}==4">Not	Allocated</span>
												<span class="label bg-light-green"	th:if="${obj.icStatus}==5">Approved</span> 
												<span th:if="${obj.icStatus}==6">Not Approved</span> 
												<span class="label bg-green" th:if="${obj.icStatus}==7">Dispatched</span>
												<span th:if="${obj.icStatus}==8">Returned</span>
												<span class="label bg-green" th:if="${obj.icStatus}==9">Completed</span>
											</td> --> 


										</tr>

									</tbody>
								</table>


								<!-- 
									<button type="submit" id="submit" class="btn btn-success">
										<i class="material-icons">check</i> <span>Allocated</span>
									</button>
								


								<button type="submit" id="cancel" class="btn btn-danger"
									style="position: relative; left: 1pc;">
									<i class="material-icons">cancel</i> <span>Not Allocated</span>
								</button>
	 -->

							</div>
						</div>
						<!-- </form> -->
					</div>
				</div>

			</div>

		</section>
	</section>

	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

	<script src="/plugins/jquery-datatable/jquery.dataTables.js"></script>
	<script
		src="/plugins/jquery-datatable/skin/bootstrap/js/dataTables.bootstrap.js"></script>
	<script
		src="/plugins/jquery-datatable/extensions/export/dataTables.buttons.min.js"></script>
	<script
		src="/plugins/jquery-datatable/extensions/export/buttons.flash.min.js"></script>
	<script src="/plugins/jquery-datatable/extensions/export/jszip.min.js"></script>
	<script
		src="/plugins/jquery-datatable/extensions/export/pdfmake.min.js"></script>
	<script src="/plugins/jquery-datatable/extensions/export/vfs_fonts.js"></script>
	<script
		src="/plugins/jquery-datatable/extensions/export/buttons.html5.min.js"></script>
	<script
		src="/plugins/jquery-datatable/extensions/export/buttons.print.min.js"></script>

	<!--  Bootstrap Material Datetime Picker Plugin Js -->
	<script
		src="../../plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>

	<!--      Bootstrap Datepicker Plugin Js -->
	<script
		src="../../plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
	<!-- noUISlider Plugin Js -->
	<script src="/plugins/nouislider/nouislider.js"></script>

	<!-- Waves Effect Plugin Js -->
	<script src="/plugins/node-waves/waves.js"></script>
	<!-- Custom Js -->
	<script src="/js/admin.js"></script>
	<script src="/js/pages/tables/jquery-datatable.js"></script>

	<!--  Demo Js -->
	<script src="/js/demo.js"></script>


	<SCRIPT language="javascript">
		$(function () {

			// add multiple select / deselect functionality
			$("#selectall").click(function () {
				$('.case').attr('checked', this.checked);
			});

			// if all checkbox are selected, check the selectall checkbox
			// and viceversa
			$(".case").click(function () {

				if ($(".case").length == $(".case:checked").length) {
					$("#selectall").attr("checked", "checked");
				} else {
					$("#selectall").removeAttr("checked");
				}

			});
		});
	</SCRIPT>
</body>
</html>